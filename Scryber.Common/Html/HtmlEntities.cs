using System;
using System.Collections.Generic;

namespace Scryber.Html
{

    public static class HtmlEntities
    {

        /// <summary>
        /// A readonly dictionary of all the known HTML Entities (without the ampersand and semi-colon delimiters), along with their character representations. This does not include &lt;, &gt; and &amp; - use the Html and Xml dictionary for that.
        /// </summary>
        public static IDictionary<string, char> DefaultKnownHTMLEntities = new ReadOnlyDictionary<string, char>(InitKnownHTMLEntities());

        /// <summary>
        /// A readonly dictionary of all the known HTML AND XML Entities (without the ampersand and semi-colon delimiters), along with their character representations.
        /// </summary>
        public static IDictionary<string, char> DefaultKnownHTMLAndXMLEntities = new ReadOnlyDictionary<string, char>(InitKnownHTMLEntities().AddXmlEntities());

        public static Dictionary<string, char> AddXmlEntities(this Dictionary<string, char> known)
        {
	        if (!known.ContainsKey("lt"))
		        known.Add("lt", '<');

	        if (!known.ContainsKey("gt"))
		        known.Add("gt", '>');

	        if (!known.ContainsKey("amp"))
		        known.Add("amp", '&');
	        
            return known;
        }

        public static Dictionary<string, char> InitKnownHTMLEntities()
        {
            Dictionary<string, char> known = new Dictionary<string, char>();
            known.Add("nbsp", (char)160);
            known.Add("apos", '\'');
            known.Add("quot", '"');
            known.Add("euro", '€');
            known.Add("ldquo", '“');
            known.Add("rdquo", '”');
            known.Add("lsquo", '‘');
            known.Add("rsquo", '’');
            known.Add("iexcl", '¡');
            known.Add("cent", '¢');
            known.Add("dollar", '$');
            known.Add("pound", '£');
            known.Add("ndash", '-');
            known.Add("mdash", '—');
            known.Add("curren", '¤');
            known.Add("yen", '¥');
            known.Add("brvbar", '¦');
            known.Add("sect", '§');
            known.Add("uml", '¨');
            known.Add("copy", '©');
            known.Add("ordf", 'ª');
            known.Add("not", '¬');
            known.Add("reg", '®');
            known.Add("macr", '¯');
            known.Add("deg", '°');
            known.Add("dagger", '†');
            known.Add("Dagger", '‡');
            
            known.Add("frc14", '¼');
            known.Add("frc12", '½');
            known.Add("frc34", '¾');
            known.Add("frc13", '⅓');
            known.Add("frc23", '⅔');
            known.Add("frc18", '⅛');
            known.Add("frc38", '⅜');
            known.Add("frc58", '⅝');
            
            known.Add("plus", '+');
            known.Add("plusmn", '±');
            known.Add("sup1", '¹');
            known.Add("sup2", '²');
            known.Add("sup3", '³');
            known.Add("acute", '´');
            known.Add("micro", 'µ');
            known.Add("para", '¶');
            known.Add("middot", '·');
            known.Add("cedil", '¸');
            known.Add("ordm", 'º');
            known.Add("laquo", '«');
            known.Add("frac14", '¼');
            known.Add("frac12", '½');
            known.Add("frac34", '¾');
            known.Add("iquest", '¿');
            known.Add("Agrave", 'À');
            known.Add("Aacute", 'Á');
            known.Add("Acirc", 'Â');
            known.Add("Atilde", 'Ã');
            known.Add("Auml", 'Ä');
            known.Add("Aring", 'Å');
            known.Add("AElig", 'Æ');
            known.Add("Ccedil", 'Ç');
            known.Add("Egrave", 'È');
            known.Add("Eacute", 'É');
            known.Add("Ecirc", 'Ê');
            known.Add("Euml", 'Ë');
            known.Add("Igrave", 'Ì');
            known.Add("Iacute", 'Í');
            known.Add("Icirc", 'Î');
            known.Add("Iuml", 'Ï');
            known.Add("ETH", 'Ð');
            known.Add("Ntilde", 'Ñ');
            known.Add("Ograve", 'Ò');
            known.Add("Oacute", 'Ó');
            known.Add("Ocirc", 'Ô');
            known.Add("Otilde", 'Õ');
            known.Add("Ouml", 'Ö');
            known.Add("times", '×');
            known.Add("Oslash", 'Ø');
            known.Add("Ugrave", 'Ù');
            known.Add("Uacute", 'Ú');
            known.Add("Ucirc", 'Û');
            known.Add("Uuml", 'Ü');
            known.Add("Yacute", 'Ý');
            known.Add("THORN", 'Þ');
            known.Add("szlig", 'ß');
            known.Add("agrave", 'à');
            known.Add("aacute", 'á');
            known.Add("acirc", 'â');
            known.Add("atilde", 'ã');
            known.Add("auml", 'ä');
            known.Add("bull", '•');
            known.Add("aring", 'å');
            known.Add("aelig", 'æ');
            known.Add("ccedil", 'ç');
            known.Add("egrave", 'è');
            known.Add("eacute", 'é');
            known.Add("ecirc", 'ê');
            known.Add("euml", 'ë');
            known.Add("igrave", 'ì');
            known.Add("iacute", 'í');
            known.Add("icirc", 'î');
            known.Add("iuml", 'ï');
            known.Add("eth", 'ð');
            known.Add("ntilde", 'ñ');
            known.Add("ograve", 'ò');
            known.Add("oacute", 'ó');
            known.Add("ocirc", 'ô');
            known.Add("otilde", 'õ');
            known.Add("ouml", 'ö');
            known.Add("divide", '÷');
            known.Add("oslash", 'ø');
            known.Add("ugrave", 'ù');
            known.Add("uacute", 'ú');
            known.Add("ucirc", 'û');
            known.Add("uuml", 'ü');
            known.Add("yacute", 'ý');
            known.Add("thorn", 'þ');
            known.Add("raquo", '»');
            known.Add("hellip", '…');
            known.Add("trade", '™');
            known.Add("asymp", '≈');
            known.Add("ne", '≠');
            known.Add("le", '≤');
            known.Add("ge", '≥');
            
            known.Add("excl", '!');
            known.Add("quest", '?');
            known.Add("lsaquo", '‹');
            known.Add("rsaquo", '›');
            known.Add("bsol", '\\');
            
            EnsureMath(known);
            EnsureLetters(known);
            EnsureArrows(known);
            EnsureNumbers(known);
            EnsurePunctuation(known);
            EnsureSymbols(known);

            return known;
        }

        /// <summary>
        /// All the known math symbols with explicit names are added to the dictionary if they are not already there.
        /// </summary>
        /// <param name="known"></param>
        public static void EnsureMath(Dictionary<string, char> known)
        {
	        known.EnsureAdded('+', "plus");
	        known.EnsureAdded('−', "minus");
	        known.EnsureAdded('×', "times");
	        known.EnsureAdded('÷', "divide");
	        known.EnsureAdded('=', "equals");
	        known.EnsureAdded('≠', "ne");
	        known.EnsureAdded('±', "plusmn");
	        known.EnsureAdded('¬', "not");
	        known.EnsureAdded('<', "lt");
	        known.EnsureAdded('>', "gt");
	        known.EnsureAdded('°', "deg");
	        known.EnsureAdded('¹', "sup1");
	        known.EnsureAdded('²', "sup2");
	        known.EnsureAdded('³', "sup3");
	        known.EnsureAdded('ƒ', "fnof");
	        known.EnsureAdded('%', "percnt");
	        known.EnsureAdded('‰', "permil");
	        known.EnsureAdded('‱', "pertenk");
	        known.EnsureAdded('∀', "forall");
	        known.EnsureAdded('∁', "comp");
	        known.EnsureAdded('∂', "part");
	        known.EnsureAdded('∃', "exist");
	        known.EnsureAdded('∄', "nexist");
	        known.EnsureAdded('∅', "empty");
	        known.EnsureAdded('∇', "nabla");
	        known.EnsureAdded('∈', "isin");
	        known.EnsureAdded('∉', "notin");
	        known.EnsureAdded('∋', "ni");
	        known.EnsureAdded('∌', "notni");
	        known.EnsureAdded('∏', "prod");
	        known.EnsureAdded('∐', "coprod");
	        known.EnsureAdded('∑', "sum");
	        known.EnsureAdded('∓', "mnplus");
	        known.EnsureAdded('∔', "plusdo");
	        known.EnsureAdded('∖', "setminus");
	        known.EnsureAdded('∗', "lowast");
	        known.EnsureAdded('∘', "compfn");
	        known.EnsureAdded('√', "radic");
	        known.EnsureAdded('∝', "prop");
	        known.EnsureAdded('∞', "infin");
	        known.EnsureAdded('∟', "angrt");
	        known.EnsureAdded('∠', "ang");
	        known.EnsureAdded('∡', "angmsd");
	        known.EnsureAdded('∢', "angsph");
	        known.EnsureAdded('∣', "mid");
	        known.EnsureAdded('∤', "nmid");
	        known.EnsureAdded('∥', "parallel");
	        known.EnsureAdded('∦', "npar");
	        known.EnsureAdded('∧', "and");
	        known.EnsureAdded('∨', "or");
	        known.EnsureAdded('∩', "cap");
	        known.EnsureAdded('∪', "cup");
	        known.EnsureAdded('∫', "int");
	        known.EnsureAdded('∬', "Int");
	        known.EnsureAdded('∭', "iiint");
	        known.EnsureAdded('∮', "conint");
	        known.EnsureAdded('∯', "Conint");
	        known.EnsureAdded('∰', "Cconint");
	        known.EnsureAdded('∱', "cwint");
	        known.EnsureAdded('∲', "cwconint");
	        known.EnsureAdded('∳', "awconint");
	        known.EnsureAdded('∴', "there4");
	        known.EnsureAdded('∵', "because");
	        known.EnsureAdded('∶', "ratio");
	        known.EnsureAdded('∷', "Colon");
	        known.EnsureAdded('∸', "minusd");
	        known.EnsureAdded('∺', "mDDot");
	        known.EnsureAdded('∻', "homtht");
	        known.EnsureAdded('∼', "sim");
	        known.EnsureAdded('∽', "bsim");
	        known.EnsureAdded('∾', "ac");
	        known.EnsureAdded('∿', "acd");
	        known.EnsureAdded('≀', "wreath");
	        known.EnsureAdded('≁', "nsim");
	        known.EnsureAdded('≂', "esim");
	        known.EnsureAdded('≃', "sime");
	        known.EnsureAdded('≄', "nsime");
	        known.EnsureAdded('≅', "cong");
	        known.EnsureAdded('≆', "simne");
	        known.EnsureAdded('≇', "ncong");
	        known.EnsureAdded('≈', "asymp");
	        known.EnsureAdded('≉', "nap");
	        known.EnsureAdded('≊', "approxeq");
	        known.EnsureAdded('≋', "apid");
	        known.EnsureAdded('≌', "bcong");
	        known.EnsureAdded('≍', "asympeq");
	        known.EnsureAdded('≎', "bump");
	        known.EnsureAdded('≏', "bumpe");
	        known.EnsureAdded('≐', "esdot");
	        known.EnsureAdded('≑', "eDot");
	        known.EnsureAdded('≒', "efDot");
	        known.EnsureAdded('≓', "erDot");
	        known.EnsureAdded('≔', "colone");
	        known.EnsureAdded('≕', "ecolon");
	        known.EnsureAdded('≖', "ecir");
	        known.EnsureAdded('≗', "cire");
	        known.EnsureAdded('≙', "wedgeq");
	        known.EnsureAdded('≚', "veeeq");
	        known.EnsureAdded('≜', "trie");
	        known.EnsureAdded('≟', "equest");
	        known.EnsureAdded('≡', "equiv");
	        known.EnsureAdded('≢', "nequiv");
	        known.EnsureAdded('≤', "le");
	        known.EnsureAdded('≥', "ge");
	        known.EnsureAdded('≦', "lE");
	        known.EnsureAdded('≧', "gE");
	        known.EnsureAdded('≨', "lnE");
	        known.EnsureAdded('≩', "gnE");
	        known.EnsureAdded('≪', "Lt");
	        known.EnsureAdded('≫', "Gt");
	        known.EnsureAdded('≬', "between");
	        known.EnsureAdded('≭', "NotCupCap");
	        known.EnsureAdded('≮', "nlt");
	        known.EnsureAdded('≯', "ngt");
	        known.EnsureAdded('≰', "nle");
	        known.EnsureAdded('≱', "nge");
	        known.EnsureAdded('≲', "lsim");
	        known.EnsureAdded('≳', "gsim");
	        known.EnsureAdded('≴', "nlsim");
	        known.EnsureAdded('≵', "ngsim");
	        known.EnsureAdded('≶', "lg");
	        known.EnsureAdded('≷', "gl");
	        known.EnsureAdded('≸', "ntlg");
	        known.EnsureAdded('≹', "ntgl");
	        known.EnsureAdded('≺', "pr");
	        known.EnsureAdded('≻', "sc");
	        known.EnsureAdded('≼', "prcue");
	        known.EnsureAdded('≽', "sccue");
	        known.EnsureAdded('≾', "prsim");
	        known.EnsureAdded('≿', "scsim");
	        known.EnsureAdded('⊀', "npr");
	        known.EnsureAdded('⊁', "nsc");
	        known.EnsureAdded('⊂', "sub");
	        known.EnsureAdded('⊃', "sup");
	        known.EnsureAdded('⊄', "nsub");
	        known.EnsureAdded('⊅', "nsup");
	        known.EnsureAdded('⊆', "sube");
	        known.EnsureAdded('⊇', "supe");
	        known.EnsureAdded('⊈', "nsube");
	        known.EnsureAdded('⊉', "nsupe");
	        known.EnsureAdded('⊊', "subne");
	        known.EnsureAdded('⊋', "supne");
	        known.EnsureAdded('⊍', "cupdot");
	        known.EnsureAdded('⊎', "uplus");
	        known.EnsureAdded('⊏', "sqsub");
	        known.EnsureAdded('⊐', "sqsup");
	        known.EnsureAdded('⊑', "sqsube");
	        known.EnsureAdded('⊒', "sqsupe");
	        known.EnsureAdded('⊓', "sqcap");
	        known.EnsureAdded('⊔', "sqcup");
	        known.EnsureAdded('⊕', "oplus");
	        known.EnsureAdded('⊖', "ominus");
	        known.EnsureAdded('⊗', "otimes");
	        known.EnsureAdded('⊘', "osol");
	        known.EnsureAdded('⊙', "odot");
	        known.EnsureAdded('⊚', "ocir");
	        known.EnsureAdded('⊛', "oast");
	        known.EnsureAdded('⊝', "odash");
	        known.EnsureAdded('⊞', "plusb");
	        known.EnsureAdded('⊟', "minusb");
	        known.EnsureAdded('⊠', "timesb");
	        known.EnsureAdded('⊡', "sdotb");
	        known.EnsureAdded('⊢', "vdash");
	        known.EnsureAdded('⊣', "dashv");
	        known.EnsureAdded('⊤', "top");
	        known.EnsureAdded('⊥', "perp");
	        known.EnsureAdded('⊧', "models");
	        known.EnsureAdded('⊨', "vDash");
	        known.EnsureAdded('⊩', "Vdash");
	        known.EnsureAdded('⊪', "Vvdash");
	        known.EnsureAdded('⊫', "VDash");
	        known.EnsureAdded('⊬', "nvdash");
	        known.EnsureAdded('⊭', "nvDash");
	        known.EnsureAdded('⊮', "nVdash");
	        known.EnsureAdded('⊯', "nVDash");
	        known.EnsureAdded('⊰', "prurel");
	        known.EnsureAdded('⊲', "vltri");
	        known.EnsureAdded('⊳', "vrtri");
	        known.EnsureAdded('⊴', "ltrie");
	        known.EnsureAdded('⊵', "rtrie");
	        known.EnsureAdded('⊶', "origof");
	        known.EnsureAdded('⊷', "imof");
	        known.EnsureAdded('⊸', "mumap");
	        known.EnsureAdded('⊹', "hercon");
	        known.EnsureAdded('⊺', "intcal");
	        known.EnsureAdded('⊻', "veebar");
	        known.EnsureAdded('⊽', "barvee");
	        known.EnsureAdded('⊾', "angrtvb");
	        known.EnsureAdded('⊿', "lrtri");
	        known.EnsureAdded('⋀', "xwedge");
	        known.EnsureAdded('⋁', "xvee");
	        known.EnsureAdded('⋂', "xcap");
	        known.EnsureAdded('⋃', "xcup");
	        known.EnsureAdded('⋄', "diamond");
	        known.EnsureAdded('⋅', "sdot");
	        known.EnsureAdded('⋆', "Star");
	        known.EnsureAdded('⋇', "divonx");
	        known.EnsureAdded('⋈', "bowtie");
	        known.EnsureAdded('⋉', "ltimes");
	        known.EnsureAdded('⋊', "rtimes");
	        known.EnsureAdded('⋋', "lthree");
	        known.EnsureAdded('⋌', "rthree");
	        known.EnsureAdded('⋍', "bsime");
	        known.EnsureAdded('⋎', "cuvee");
	        known.EnsureAdded('⋏', "cuwed");
	        known.EnsureAdded('⋐', "Sub");
	        known.EnsureAdded('⋑', "Sup");
	        known.EnsureAdded('⋒', "Cap");
	        known.EnsureAdded('⋓', "Cup");
	        known.EnsureAdded('⋔', "fork");
	        known.EnsureAdded('⋕', "epar");
	        known.EnsureAdded('⋖', "ltdot");
	        known.EnsureAdded('⋗', "gtdot");
	        known.EnsureAdded('⋘', "Ll");
	        known.EnsureAdded('⋙', "Gg");
	        known.EnsureAdded('⋚', "leg");
	        known.EnsureAdded('⋛', "gel");
	        known.EnsureAdded('⋞', "cuepr");
	        known.EnsureAdded('⋟', "cuesc");
	        known.EnsureAdded('⋠', "nprcue");
	        known.EnsureAdded('⋡', "nsccue");
	        known.EnsureAdded('⋢', "nsqsube");
	        known.EnsureAdded('⋣', "nsqsupe");
	        known.EnsureAdded('⋦', "lnsim");
	        known.EnsureAdded('⋧', "gnsim");
	        known.EnsureAdded('⋨', "prnsim");
	        known.EnsureAdded('⋩', "scnsim");
	        known.EnsureAdded('⋪', "nltri");
	        known.EnsureAdded('⋫', "nrtri");
	        known.EnsureAdded('⋬', "nltrie");
	        known.EnsureAdded('⋭', "nrtrie");
	        known.EnsureAdded('⋮', "vellip");
	        known.EnsureAdded('⋯', "ctdot");
	        known.EnsureAdded('⋰', "utdot");
	        known.EnsureAdded('⋱', "dtdot");
	        known.EnsureAdded('⋲', "disin");
	        known.EnsureAdded('⋳', "isinsv");
	        known.EnsureAdded('⋴', "isins");
	        known.EnsureAdded('⋵', "isindot");
	        known.EnsureAdded('⋶', "notinvc");
	        known.EnsureAdded('⋷', "notinvb");
	        known.EnsureAdded('⋹', "isinE");
	        known.EnsureAdded('⋺', "nisd");
	        known.EnsureAdded('⋻', "xnis");
	        known.EnsureAdded('⋼', "nis");
	        known.EnsureAdded('⋽', "notnivc");
	        known.EnsureAdded('⋾', "notnivb");

        }

        /// <summary>
        /// All the known letter symbols with explicit names are added to the dictionary if they are not already there.
        /// </summary>
        /// <param name="known"></param>
        public static void EnsureLetters(Dictionary<string, char> known)
        {
	        known.EnsureAdded('À', "Agrave");
	        known.EnsureAdded('Á', "Aacute");
	        known.EnsureAdded('Â', "Acirc");
	        known.EnsureAdded('Ã', "Atilde");
	        known.EnsureAdded('Ä', "Auml");
	        known.EnsureAdded('Å', "Aring");
	        known.EnsureAdded('Æ', "AElig");
	        known.EnsureAdded('Ç', "Ccedil");
	        known.EnsureAdded('È', "Egrave");
	        known.EnsureAdded('É', "Eacute");
	        known.EnsureAdded('Ê', "Ecirc");
	        known.EnsureAdded('Ë', "Euml");
	        known.EnsureAdded('Ì', "Lgrave");
	        known.EnsureAdded('Í', "Lacute");
	        known.EnsureAdded('Î', "Lcirc");
	        known.EnsureAdded('Ï', "Luml");
	        known.EnsureAdded('Ð', "ETH");
	        known.EnsureAdded('Ñ', "Ntilde");
	        known.EnsureAdded('Ò', "Ograve");
	        known.EnsureAdded('Ó', "Oacute");
	        known.EnsureAdded('Ô', "Ocirc");
	        known.EnsureAdded('Õ', "Otilde");
	        known.EnsureAdded('Ö', "Ouml");
	        known.EnsureAdded('Ø', "Oslash");
	        known.EnsureAdded('Ù', "Ugrave");
	        known.EnsureAdded('Ú', "Uacute");
	        known.EnsureAdded('Û', "Ucirc");
	        known.EnsureAdded('Ü', "Uuml");
	        known.EnsureAdded('Ý', "Yacute");
	        known.EnsureAdded('Þ', "THORN");
	        known.EnsureAdded('ß', "szlig");
	        known.EnsureAdded('à', "agrave");
	        known.EnsureAdded('á', "aacute");
	        known.EnsureAdded('â', "acirc");
	        known.EnsureAdded('ã', "atilde");
	        known.EnsureAdded('ä', "auml");
	        known.EnsureAdded('å', "aring");
	        known.EnsureAdded('æ', "aelig");
	        known.EnsureAdded('ç', "ccedil");
	        known.EnsureAdded('è', "egrave");
	        known.EnsureAdded('é', "eacute");
	        known.EnsureAdded('ê', "ecirc");
	        known.EnsureAdded('ë', "euml");
	        known.EnsureAdded('ì', "igrave");
	        known.EnsureAdded('í', "iacute");
	        known.EnsureAdded('î', "icirc");
	        known.EnsureAdded('ï', "iuml");
	        known.EnsureAdded('ð', "eth");
	        known.EnsureAdded('ñ', "ntilde");
	        known.EnsureAdded('ò', "ograve");
	        known.EnsureAdded('ó', "oacute");
	        known.EnsureAdded('ô', "ocirc");
	        known.EnsureAdded('õ', "otilde");
	        known.EnsureAdded('ö', "ouml");
	        known.EnsureAdded('ø', "oslash");
	        known.EnsureAdded('ù', "ugrave");
	        known.EnsureAdded('ú', "uacute");
	        known.EnsureAdded('û', "ucirc");
	        known.EnsureAdded('ü', "uuml");
	        known.EnsureAdded('ý', "yacute");
	        known.EnsureAdded('þ', "thorn");
	        known.EnsureAdded('ÿ', "yuml");
	        known.EnsureAdded('Ā', "Amacr");
	        known.EnsureAdded('ā', "amacr");
	        known.EnsureAdded('Ă', "Abreve");
	        known.EnsureAdded('ă', "abreve");
	        known.EnsureAdded('Ą', "Aogon");
	        known.EnsureAdded('ą', "aogon");
	        known.EnsureAdded('Ć', "Cacute");
	        known.EnsureAdded('ć', "cacute");
	        known.EnsureAdded('Ĉ', "Ccirc");
	        known.EnsureAdded('ĉ', "ccirc");
	        known.EnsureAdded('Ċ', "Cdot");
	        known.EnsureAdded('ċ', "cdot");
	        known.EnsureAdded('Č', "Ccaron");
	        known.EnsureAdded('č', "ccaron");
	        known.EnsureAdded('Ď', "Dcaron");
	        known.EnsureAdded('ď', "dcaron");
	        known.EnsureAdded('Đ', "Dstrok");
	        known.EnsureAdded('đ', "dstrok");
	        known.EnsureAdded('Ē', "Emacr");
	        known.EnsureAdded('ē', "emacr");
	        known.EnsureAdded('Ė', "Edot");
	        known.EnsureAdded('ė', "edot");
	        known.EnsureAdded('Ę', "Eogon");
	        known.EnsureAdded('ę', "eogon");
	        known.EnsureAdded('Ě', "Ecaron");
	        known.EnsureAdded('ě', "ecaron");
	        known.EnsureAdded('Ĝ', "Gcirc");
	        known.EnsureAdded('ĝ', "gcirc");
	        known.EnsureAdded('Ğ', "Gbreve");
	        known.EnsureAdded('ğ', "gbreve");
	        known.EnsureAdded('Ġ', "Gdot");
	        known.EnsureAdded('ġ', "gdot");
	        known.EnsureAdded('Ģ', "Gcedil");
	        known.EnsureAdded('Ĥ', "Hcirc");
	        known.EnsureAdded('ĥ', "hcirc");
	        known.EnsureAdded('Ħ', "Hstrok");
	        known.EnsureAdded('ħ', "hstrok");
	        known.EnsureAdded('Ĩ', "Itilde");
	        known.EnsureAdded('ĩ', "itilde");
	        known.EnsureAdded('Ī', "Imacr");
	        known.EnsureAdded('ī', "imacr");
	        known.EnsureAdded('Į', "Iogon");
	        known.EnsureAdded('į', "iogon");
	        known.EnsureAdded('İ', "Idot");
	        known.EnsureAdded('ı', "imath");
	        known.EnsureAdded('Ĳ', "IJlig");
	        known.EnsureAdded('ĳ', "ijlig");
	        known.EnsureAdded('Ĵ', "Jcirc");
	        known.EnsureAdded('ĵ', "jcirc");
	        known.EnsureAdded('Ķ', "Kcedil");
	        known.EnsureAdded('ķ', "kcedil");
	        known.EnsureAdded('ĸ', "kgreen");
	        known.EnsureAdded('Ĺ', "Lacute");
	        known.EnsureAdded('ĺ', "lacute");
	        known.EnsureAdded('Ļ', "Lcedil");
	        known.EnsureAdded('ļ', "lcedil");
	        known.EnsureAdded('Ľ', "Lcaron");
	        known.EnsureAdded('ľ', "lcaron");
	        known.EnsureAdded('Ŀ', "Lmidot");
	        known.EnsureAdded('ŀ', "lmidot");
	        known.EnsureAdded('Ł', "Lstrok");
	        known.EnsureAdded('ł', "lstrok");
	        known.EnsureAdded('Ń', "Nacute");
	        known.EnsureAdded('ń', "nacute");
	        known.EnsureAdded('Ņ', "Ncedil");
	        known.EnsureAdded('ņ', "ncedil");
	        known.EnsureAdded('Ň', "Ncaron");
	        known.EnsureAdded('ň', "ncaron");
	        known.EnsureAdded('ŉ', "napos");
	        known.EnsureAdded('Ŋ', "ENG");
	        known.EnsureAdded('ŋ', "eng");
	        known.EnsureAdded('Ō', "Omacr");
	        known.EnsureAdded('ō', "omacr");
	        known.EnsureAdded('Ő', "Odblac");
	        known.EnsureAdded('ő', "odblac");
	        known.EnsureAdded('Œ', "OElig");
	        known.EnsureAdded('œ', "oelig");
	        known.EnsureAdded('Ŕ', "Racute");
	        known.EnsureAdded('ŕ', "racute");
	        known.EnsureAdded('Ŗ', "Rcedil");
	        known.EnsureAdded('ŗ', "rcedil");
	        known.EnsureAdded('Ř', "Rcaron");
	        known.EnsureAdded('ř', "rcaron");
	        known.EnsureAdded('Ś', "Sacute");
	        known.EnsureAdded('ś', "sacute");
	        known.EnsureAdded('Ŝ', "Scirc");
	        known.EnsureAdded('ŝ', "scirc");
	        known.EnsureAdded('Ş', "Scedil");
	        known.EnsureAdded('ş', "scedil");
	        known.EnsureAdded('Š', "Scaron");
	        known.EnsureAdded('š', "scaron");
	        known.EnsureAdded('Ţ', "Tcedil");
	        known.EnsureAdded('ţ', "tcedil");
	        known.EnsureAdded('Ť', "Tcaron");
	        known.EnsureAdded('ť', "tcaron");
	        known.EnsureAdded('Ŧ', "Tstrok");
	        known.EnsureAdded('ŧ', "tstrok");
	        known.EnsureAdded('Ũ', "Utilde");
	        known.EnsureAdded('ũ', "utilde");
	        known.EnsureAdded('Ū', "Umacr");
	        known.EnsureAdded('ū', "umacr");
	        known.EnsureAdded('Ŭ', "Ubreve");
	        known.EnsureAdded('ŭ', "ubreve");
	        known.EnsureAdded('Ů', "Uring");
	        known.EnsureAdded('ů', "uring");
	        known.EnsureAdded('Ű', "Udblac");
	        known.EnsureAdded('ű', "udblac");
	        known.EnsureAdded('Ų', "Uogon");
	        known.EnsureAdded('ų', "uogon");
	        known.EnsureAdded('Ŵ', "Wcirc");
	        known.EnsureAdded('ŵ', "wcirc");
	        known.EnsureAdded('Ŷ', "Ycirc");
	        known.EnsureAdded('ŷ', "ycirc");
	        known.EnsureAdded('Ÿ', "Yuml");
	        known.EnsureAdded('Ź', "Zacute");
	        known.EnsureAdded('ź', "zacute");
	        known.EnsureAdded('Ż', "Zdot");
	        known.EnsureAdded('ż', "zdot");
	        known.EnsureAdded('Ž', "Zcaron");
	        known.EnsureAdded('ž', "zcaron");
	        known.EnsureAdded('̑', "DownBreve");

        }

        /// <summary>
        /// All the known arrow symbols with explicit names are added to the dictionary if they are not already there.
        /// </summary>
        /// <param name="known"></param>
        public static void EnsureArrows(Dictionary<string, char> known)
        {
	        known.EnsureAdded('←', "larr");
	        known.EnsureAdded('↑', "uarr");
	        known.EnsureAdded('→', "rarr");
	        known.EnsureAdded('↓', "darr");
	        known.EnsureAdded('↔', "harr");
	        known.EnsureAdded('↕', "varr");
	        known.EnsureAdded('↖', "nwarr");
	        known.EnsureAdded('↗', "nearr");
	        known.EnsureAdded('↘', "searr");
	        known.EnsureAdded('↙', "swarr");
	        known.EnsureAdded('↚', "nlarr");
	        known.EnsureAdded('↛', "nrarr");
	        known.EnsureAdded('↜', "larrw");
	        known.EnsureAdded('↝', "rarrw");
	        known.EnsureAdded('↞', "Larr");
	        known.EnsureAdded('↟', "Uarr");
	        known.EnsureAdded('↠', "Rarr");
	        known.EnsureAdded('↡', "Darr");
	        known.EnsureAdded('↢', "larrtl");
	        known.EnsureAdded('↣', "rarrtl");
	        known.EnsureAdded('↤', "mapstoleft");
	        known.EnsureAdded('↥', "mapstoup");
	        known.EnsureAdded('↦', "mapstoright");
	        known.EnsureAdded('↧', "mapstodown");
	        known.EnsureAdded('↩', "larrhk");
	        known.EnsureAdded('↪', "rarrhk");
	        known.EnsureAdded('↫', "larrlp");
	        known.EnsureAdded('↬', "rarrlp");
	        known.EnsureAdded('↭', "harrw");
	        known.EnsureAdded('↮', "nharr");
	        known.EnsureAdded('↰', "lsh");
	        known.EnsureAdded('↱', "rsh");
	        known.EnsureAdded('↲', "ldsh");
	        known.EnsureAdded('↳', "rdsh");
	        known.EnsureAdded('↵', "crarr");
	        known.EnsureAdded('↶', "cularr");
	        known.EnsureAdded('↷', "curarr");
	        known.EnsureAdded('↺', "olarr");
	        known.EnsureAdded('↻', "orarr");
	        known.EnsureAdded('↼', "lharu");
	        known.EnsureAdded('↽', "lhard");
	        known.EnsureAdded('↾', "uharr");
	        known.EnsureAdded('↿', "uharl");
	        known.EnsureAdded('⇀', "rharu");
	        known.EnsureAdded('⇁', "rhard");
	        known.EnsureAdded('⇂', "dharr");
	        known.EnsureAdded('⇃', "dharl");
	        known.EnsureAdded('⇄', "rlarr");
	        known.EnsureAdded('⇅', "udarr");
	        known.EnsureAdded('⇆', "lrarr");
	        known.EnsureAdded('⇇', "llarr");
	        known.EnsureAdded('⇈', "uuarr");
	        known.EnsureAdded('⇉', "rrarr");
	        known.EnsureAdded('⇊', "ddarr");
	        known.EnsureAdded('⇋', "lrhar");
	        known.EnsureAdded('⇌', "rlhar");
	        known.EnsureAdded('⇍', "nlArr");
	        known.EnsureAdded('⇎', "nhArr");
	        known.EnsureAdded('⇏', "nrArr");
	        known.EnsureAdded('⇐', "lArr");
	        known.EnsureAdded('⇑', "uArr");
	        known.EnsureAdded('⇒', "rArr");
	        known.EnsureAdded('⇓', "dArr");
	        known.EnsureAdded('⇔', "hArr");
	        known.EnsureAdded('⇕', "vArr");
	        known.EnsureAdded('⇖', "nwArr");
	        known.EnsureAdded('⇗', "neArr");
	        known.EnsureAdded('⇘', "seArr");
	        known.EnsureAdded('⇙', "swArr");
	        known.EnsureAdded('⇚', "lAarr");
	        known.EnsureAdded('⇛', "rAarr");
	        known.EnsureAdded('⇜', "ziglarr");
	        known.EnsureAdded('⇝', "zigrarr");
	        known.EnsureAdded('⇤', "larrb");
	        known.EnsureAdded('⇥', "rarrb");
	        known.EnsureAdded('⇥', "rarrb");
	        known.EnsureAdded('⇵', "duarr");
	        known.EnsureAdded('⇽', "loarr");
	        known.EnsureAdded('⇾', "roarr");
	        known.EnsureAdded('⇿', "hoarr");
	        known.EnsureAdded('⟵', "xlarr");
	        known.EnsureAdded('⟶', "xrarr");
	        known.EnsureAdded('⟷', "xharr");
	        known.EnsureAdded('⟸', "xlArr");
	        known.EnsureAdded('⟹', "xrArr");
	        known.EnsureAdded('⟺', "xhArr");
	        known.EnsureAdded('⟼', "xmap");
	        known.EnsureAdded('⟿', "dzigrarr");
	        known.EnsureAdded('⤂', "nvlArr");
	        known.EnsureAdded('⤃', "nvrArr");
	        known.EnsureAdded('⤄', "nvHarr");
	        known.EnsureAdded('⤅', "Map");
	        known.EnsureAdded('⤌', "lbarr");
	        known.EnsureAdded('⤍', "rbarr");
	        known.EnsureAdded('⤎', "lBarr");
	        known.EnsureAdded('⤏', "rBarr");
	        known.EnsureAdded('⤐', "RBarr");
	        known.EnsureAdded('⤑', "DDotrahd");
	        known.EnsureAdded('⤒', "UpArrowBar");
	        known.EnsureAdded('⤓', "DownArrowBar");
	        known.EnsureAdded('⤖', "Rarrtl");
	        known.EnsureAdded('⤙', "latail");
	        known.EnsureAdded('⤚', "ratail");
	        known.EnsureAdded('⤛', "lAtail");
	        known.EnsureAdded('⤜', "rAtail");
	        known.EnsureAdded('⤝', "larrfs");
	        known.EnsureAdded('⤞', "rarrfs");
	        known.EnsureAdded('⤟', "larrbfs");
	        known.EnsureAdded('⤠', "rarrbfs");
	        known.EnsureAdded('⤣', "nwarhk");
	        known.EnsureAdded('⤤', "nearhk");
	        known.EnsureAdded('⤥', "searhk");
	        known.EnsureAdded('⤦', "swarhk");
	        known.EnsureAdded('⤧', "nwnear");
	        known.EnsureAdded('⤨', "nesear");
	        known.EnsureAdded('⤩', "seswar");
	        known.EnsureAdded('⤪', "swnwar");
	        known.EnsureAdded('⤳', "rarrc");
	        known.EnsureAdded('⤵', "cudarrr");
	        known.EnsureAdded('⤶', "ldca");
	        known.EnsureAdded('⤷', "rdca");
	        known.EnsureAdded('⤸', "cudarrl");
	        known.EnsureAdded('⤹', "larrpl");
	        known.EnsureAdded('⤼', "curarrm");
	        known.EnsureAdded('⤽', "cularrp");
	        known.EnsureAdded('⥅', "rarrpl");
	        known.EnsureAdded('⥈', "harrcir");
	        known.EnsureAdded('⥉', "Uarrocir");
	        known.EnsureAdded('⥊', "lurdshar");
	        known.EnsureAdded('⥋', "ldrushar");
	        known.EnsureAdded('⥎', "LeftRightVector");
	        known.EnsureAdded('⥏', "RightUpDownVector");
	        known.EnsureAdded('⥐', "DownLeftRightVector");
	        known.EnsureAdded('⥑', "LeftUpDownVector");
	        known.EnsureAdded('⥒', "LeftVectorBar");
	        known.EnsureAdded('⥓', "RightVectorBar");
	        known.EnsureAdded('⥔', "RightUpVectorBar");
	        known.EnsureAdded('⥕', "RightDownVectorBar");
	        known.EnsureAdded('⥖', "DownLeftVectorBar");
	        known.EnsureAdded('⥗', "DownRightVectorBar");
	        known.EnsureAdded('⥘', "LeftUpVectorBar");
	        known.EnsureAdded('⥙', "LeftDownVectorBar");
	        known.EnsureAdded('⥚', "LeftTeeVector");
	        known.EnsureAdded('⥛', "RightTeeVector");
	        known.EnsureAdded('⥜', "RightUpTeeVector");
	        known.EnsureAdded('⥝', "RightDownTeeVector");
	        known.EnsureAdded('⥞', "DownLeftTeeVector");
	        known.EnsureAdded('⥟', "DownRightTeeVector");
	        known.EnsureAdded('⥠', "LeftUpTeeVector");
	        known.EnsureAdded('⥡', "LeftDownTeeVector");
	        known.EnsureAdded('⥢', "lHar");
	        known.EnsureAdded('⥣', "uHar");
	        known.EnsureAdded('⥤', "rHar");
	        known.EnsureAdded('⥥', "dHar");
	        known.EnsureAdded('⥦', "luruhar");
	        known.EnsureAdded('⥧', "ldrdhar");
	        known.EnsureAdded('⥨', "ruluhar");
	        known.EnsureAdded('⥩', "rdldhar");
	        known.EnsureAdded('⥪', "lharul");
	        known.EnsureAdded('⥫', "llhard");
	        known.EnsureAdded('⥬', "rharul");
	        known.EnsureAdded('⥭', "lrhard");
	        known.EnsureAdded('⥮', "udhar");
	        known.EnsureAdded('⥯', "duhar");
	        known.EnsureAdded('⥰', "RoundImplies");
	        known.EnsureAdded('⥱', "erarr");
	        known.EnsureAdded('⥲', "simrarr");
	        known.EnsureAdded('⥳', "larrsim");
	        known.EnsureAdded('⥴', "rarrsim");
	        known.EnsureAdded('⥵', "rarrap");
	        known.EnsureAdded('⥶', "ltlarr");
	        known.EnsureAdded('⥸', "gtrarr");
	        known.EnsureAdded('⥹', "subrarr");
	        known.EnsureAdded('⥻', "suplarr");
	        known.EnsureAdded('⥼', "lfisht");
	        known.EnsureAdded('⥽', "rfisht");
	        known.EnsureAdded('⥾', "ufisht");
	        known.EnsureAdded('⥿', "dfisht");


        }

        /// <summary>
        /// All the known number symbols with explicit names are added to the dictionary if they are not already there.
        /// </summary>
        /// <param name="known"></param>
        public static void EnsureNumbers(Dictionary<string, char> known)
        {
	        known.EnsureAdded('¼', "frac14");
	        known.EnsureAdded('½', "frac12");
	        known.EnsureAdded('¾', "frac34");
	        known.EnsureAdded('⅓', "frac13");
	        known.EnsureAdded('⅔', "frac23");
	        known.EnsureAdded('⅕', "frac15");
	        known.EnsureAdded('⅖', "frac25");
	        known.EnsureAdded('⅗', "frac35");
	        known.EnsureAdded('⅘', "frac45");
	        known.EnsureAdded('⅙', "frac16");
	        known.EnsureAdded('⅚', "frac56");
	        known.EnsureAdded('⅛', "frac18");
	        known.EnsureAdded('⅜', "frac38");
	        known.EnsureAdded('⅝', "frac58");
	        known.EnsureAdded('⅞', "frac78");
        }

        /// <summary>
        /// All the known punctuation symbols with explicit names are added to the dictionary if they are not already there.
        /// </summary>
        /// <param name="known"></param>
        public static void EnsurePunctuation(Dictionary<string, char> known)
        {
	        known.EnsureAdded('!', "excl");
	        known.EnsureAdded('"', "quot");
	        known.EnsureAdded('#', "num");
	        known.EnsureAdded('%', "percnt");
	        known.EnsureAdded('\'', "lpar");
	        known.EnsureAdded(')', "rpar");
	        known.EnsureAdded('*', "ast");
	        known.EnsureAdded(',', "comma");
	        known.EnsureAdded('.', "period");
	        known.EnsureAdded('/', "sol");
	        known.EnsureAdded(':', "colon");
	        known.EnsureAdded(';', "semi");
	        known.EnsureAdded('?', "quest");
	        known.EnsureAdded('@', "commat");
	        known.EnsureAdded('[', "lbrack");
	        known.EnsureAdded(']', "rbrack");
	        known.EnsureAdded('^', "Hat");
	        known.EnsureAdded('_', "lowbar");
	        known.EnsureAdded('`', "grave");
	        known.EnsureAdded('{', "lbrace");
	        known.EnsureAdded('|', "vert");
	        known.EnsureAdded('}', "rbrace");
	        known.EnsureAdded('~', "tilde");
	        known.EnsureAdded('¡', "iexcl");
	        known.EnsureAdded('¦', "brvbar");
	        known.EnsureAdded('§', "sect");
	        known.EnsureAdded('¨', "uml");
	        known.EnsureAdded('©', "copy");
	        known.EnsureAdded('ª', "ordf");
	        known.EnsureAdded('«', "laquo");
	        known.EnsureAdded('¬', "not");
	        known.EnsureAdded('­', "shy");
	        known.EnsureAdded('®', "reg");
	        known.EnsureAdded('¯', "macr");
	        known.EnsureAdded('²', "sup2");
	        known.EnsureAdded('³', "sup3");
	        known.EnsureAdded('´', "acute");
	        known.EnsureAdded('µ', "micro");
	        known.EnsureAdded('¶', "para");
	        known.EnsureAdded('·', "middot");
	        known.EnsureAdded('¸', "cedil");
	        known.EnsureAdded('¹', "sup1");
	        known.EnsureAdded('º', "ordm");
	        known.EnsureAdded('»', "raquo");
	        known.EnsureAdded('¿', "iquest");
	        known.EnsureAdded('‐', "hyphen");
	        known.EnsureAdded('–', "ndash");
	        known.EnsureAdded('—', "mdash");
	        known.EnsureAdded('―', "horbar");
	        known.EnsureAdded('‖', "Vert");
	        known.EnsureAdded('‘', "lsquo");
	        known.EnsureAdded('’', "rsquo");
	        known.EnsureAdded('‚', "sbquo");
	        known.EnsureAdded('“', "ldquo");
	        known.EnsureAdded('”', "rdquo");
	        known.EnsureAdded('„', "bdquo");
	        known.EnsureAdded('†', "dagger");
	        known.EnsureAdded('‡', "Dagger");
	        known.EnsureAdded('•', "bull");
	        known.EnsureAdded('‥', "nldr");
	        known.EnsureAdded('…', "hellip");
	        known.EnsureAdded('‰', "permil");
	        known.EnsureAdded('‱', "pertenk");
	        known.EnsureAdded('′', "prime");
	        known.EnsureAdded('″', "Prime");
	        known.EnsureAdded('‴', "tprime");
	        known.EnsureAdded('‵', "bprime");
	        known.EnsureAdded('‹', "lsaquo");
	        known.EnsureAdded('›', "rsaquo");
	        known.EnsureAdded('‾', "oline");
	        known.EnsureAdded('⁁', "caret");
	        known.EnsureAdded('⁃', "hybull");
	        known.EnsureAdded('⁄', "frasl");
	        known.EnsureAdded('⁏', "bsemi");
	        known.EnsureAdded('⁗', "qprime");
	        known.EnsureAdded('™', "trade");

        }

        /// <summary>
        /// All the known symbol symbols with explicit names are added to the dictionary if they are not already there.
        /// </summary>
        /// <param name="known"></param>
        public static void EnsureSymbols(Dictionary<string, char> known)
        {
	        known.EnsureAdded('©', "copy");
	        known.EnsureAdded('®', "reg");
	        known.EnsureAdded('™', "trade");
	        known.EnsureAdded('@', "commat");
	        known.EnsureAdded('¶', "para");
	        known.EnsureAdded('§', "sect");
	        known.EnsureAdded('ℂ', "Copf");
	        known.EnsureAdded('℅', "incare");
	        known.EnsureAdded('ℊ', "gscr");
	        known.EnsureAdded('ℋ', "hamilt");
	        known.EnsureAdded('ℌ', "Hfr");
	        known.EnsureAdded('ℍ', "Hopf");
	        known.EnsureAdded('ℎ', "planckh");
	        known.EnsureAdded('ℏ', "planck");
	        known.EnsureAdded('ℐ', "Iscr");
	        known.EnsureAdded('ℑ', "image");
	        known.EnsureAdded('ℒ', "Lscr");
	        known.EnsureAdded('ℓ', "ell");
	        known.EnsureAdded('ℕ', "Nopf");
	        known.EnsureAdded('№', "numero");
	        known.EnsureAdded('℗', "copysr");
	        known.EnsureAdded('℘', "weierp");
	        known.EnsureAdded('ℙ', "Popf");
	        known.EnsureAdded('ℚ', "Qopf");
	        known.EnsureAdded('ℛ', "Rscr");
	        known.EnsureAdded('ℜ', "real");
	        known.EnsureAdded('ℝ', "Ropf");
	        known.EnsureAdded('℞', "rx");
	        known.EnsureAdded('ℤ', "Zopf");
	        known.EnsureAdded('℧', "mho");
	        known.EnsureAdded('ℨ', "Zfr");
	        known.EnsureAdded('℩', "iiota");
	        known.EnsureAdded('ℬ', "bernou");
	        known.EnsureAdded('ℭ', "Cfr");
	        known.EnsureAdded('ℯ', "escr");
	        known.EnsureAdded('ℰ', "Escr");
	        known.EnsureAdded('ℱ', "Fscr");
	        known.EnsureAdded('ℳ', "Mscr");
	        known.EnsureAdded('ℴ', "oscr");
	        known.EnsureAdded('ℵ', "alefsym");
	        known.EnsureAdded('ℶ', "beth");
	        known.EnsureAdded('ℷ', "gimel");
	        known.EnsureAdded('ℸ', "daleth");
	        known.EnsureAdded('ⅅ', "DD");
	        known.EnsureAdded('ⅆ', "dd");
	        known.EnsureAdded('ⅇ', "ee");
	        known.EnsureAdded('ⅈ', "ii");
	        known.EnsureAdded('★', "starf");
	        known.EnsureAdded('☆', "star");
	        known.EnsureAdded('☎', "phone");
	        known.EnsureAdded('♀', "female");
	        known.EnsureAdded('♂', "male");
	        known.EnsureAdded('♠', "spades");
	        known.EnsureAdded('♣', "clubs");
	        known.EnsureAdded('♥', "hearts");
	        known.EnsureAdded('♦', "diams");
	        known.EnsureAdded('♪', "sung");
	        known.EnsureAdded('♭', "flat");
	        known.EnsureAdded('♮', "natural");
	        known.EnsureAdded('♯', "sharp");
	        known.EnsureAdded('✓', "check");
	        known.EnsureAdded('✗', "cross");
	        known.EnsureAdded('✠', "malt");
	        known.EnsureAdded('✶', "sext");
	        known.EnsureAdded('❘', "VerticalSeparator");
	        known.EnsureAdded('❲', "lbbrk");
	        known.EnsureAdded('❳', "rbbrk");

        }


        public static void EnsureAdded(this Dictionary<string, char> known, char character, string entity)
        {
            if(!known.ContainsKey(entity))
	            known.Add(entity, character);
        }
    }

}

